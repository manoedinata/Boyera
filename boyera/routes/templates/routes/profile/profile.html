{% extends 'routes/base.html' %}

{% block title %}
  Profil
{% endblock %}

{% block content %}
  <!-- Page header -->
  <div class="page-header d-print-none">
    <div class="container-xl">
      <div class="row g-2 align-items-center">
        <div class="col">
          <h2 class="page-title">Profil Saya</h2>
        </div>
      </div>
    </div>
  </div>

  <!-- Page body -->
  <div class="page-body">
    <div class="container-xl">
      <div class="card">
        <div class="row g-0">
          {% include 'routes/profile/includes/sidebar.html' %}

          <div class="col-12 col-md-9 d-flex flex-column">
            <div class="card-body">
              <h2 class="mb-4">Informasi Akun</h2>

              <h3 class="card-title">Foto Profil</h3>
              <div class="row align-items-center">
                <div class="col-auto">
                  <span
                    class="avatar avatar-xl"
                    {% if current_user.picture %}
                      style="background-image:
                      url('data:image/gif;base64,{{ current_user.getPicture() }}');"
                    {% endif %}
                  ></span>
                </div>
                <div class="col-auto">
                  <a href="#" class="btn disabled" aria-disabled="true">
                    Ganti foto
                  </a>
                </div>
              </div>
              <div class="row g-3 mt-3">
                <div class="col-md">
                  <div class="form-label">Nama</div>
                  <input
                    type="text"
                    class="form-control"
                    value="{{ current_user.nama }}"
                    readonly
                  />
                </div>
                <div class="col-md">
                  <div class="form-label">Email</div>
                  <input
                    type="email"
                    class="form-control"
                    value="{{ current_user.email }}"
                    readonly
                  />
                </div>
              </div>

              <div id="readonlyWarning" class="mt-4">
                <div class="card">
                  <div class="card-body">
                    <h3 class="card-title">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="icon icon-tabler icon-tabler-alert-circle"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        fill="none"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      >
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0" />
                        <path d="M12 8v4" />
                        <path d="M12 16h.01" />
                      </svg>
                      Data akun tidak dapat diubah
                    </h3>
                    <div class="text-secondary">
                      <p>
                        Karena Boyera menggunakan akun sekolah yang berbasis
                        <strong>Microsoft</strong> (<i>Single-Sign-On</i>), data
                        akun diambil langsung dari Microsoft.
                      </p>
                      <p>
                        Untuk mengubah informasi akun seperti
                        <strong>foto profil</strong>, silahkan <i>login</i> ke
                        <a href="https://account.microsoft.com"
                          >Microsoft Account</a
                        >
                        menggunakan akun sekolah dan lakukan perubahan yang
                        diinginkan. Setelah itu, klik tombol
                        <strong>Sinkronisasi Akun</strong> dibawah untuk
                        memperbarui akun yang tersimpan di
                        <i>database</i> Boyera.
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-footer bg-transparent mt-auto">
              <div class="btn-list justify-content-end">
                <a href="{{ url_for('routes_home.home' ) }}" class="btn">
                  Kembali
                </a>
                <a
                  href="{{ url_for('routes_profile.sync_profile' ) }}"
                  class="btn btn-primary"
                >
                  Sinkronisasi Akun
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
